(this.webpackJsonpgobang=this.webpackJsonpgobang||[]).push([[0],{21:function(n,e,t){},24:function(n,e,t){"use strict";t.r(e);var r=t(1),i=t(0),c=t(11),a=t.n(c),o=(t(21),t(2)),u=t(3),d={white:"border: 1px solid black; background: white;",black:"background: black;"},l={white:"#f2f2f2"},h={md:"@media (max-width: 1119px)"},s=[[0,1],[1,0],[1,-1],[1,1]];function b(){var n=Object(o.a)(["\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  width: 2em;\n  height: 2em;\n  padding: 0;\n  box-shadow: none;\n  opacity: 0;\n"]);return b=function(){return n},n}function p(){var n=Object(o.a)(['\n  display: flex;\n  margin: 5px 0;\n  & textarea {\n    width: 50%;\n    border: 1px solid black;\n    outline: none;\n    font-size: 20px;\n  }\n  & input[type="submit"] {\n    border: 1px solid black;\n    height: 100%;\n    margin: 0;\n  }\n  & input[type="submit"]:hover {\n    border: 1px solid ',";\n  }\n"]);return p=function(){return n},n}function f(){var n=Object(o.a)(["\n  display: inline-block;\n  outline: none;\n  border: 1px solid white;\n  transition: all 0.2s ease-in-out;\n  font-size: 20px;\n  margin: 5px 0px;\n  &.white {\n    background: ",";\n  }\n  &.white:hover {\n    border: 1px solid black;\n  }\n  &.black {\n    color: ",";\n    background: black;\n  }\n  &.black:hover {\n    color: black;\n    background: ",";\n  }\n  &.wide {\n    width: 50%;\n  }\n  &.block {\n    width: 100%;\n  }\n"]);return f=function(){return n},n}function j(){var n=Object(o.a)(["\n  flex: 1;\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: space-between;\n  overflow: scroll;\n"]);return j=function(){return n},n}function v(){var n=Object(o.a)(["\n  flex: 1;\n  width: 100%;\n  display: flex;\n  flex-flow: column nowrap;\n  padding: 5px;\n  & h1,\n  & h2,\n  & h3 {\n    margin: 5px 0;\n  }\n  "," {\n    width: 100vmin;\n    text-align: center;\n  }\n"]);return v=function(){return n},n}function O(){var n=Object(o.a)(["\n  border: none;\n  border-radius: 50%;\n  ","\n"]);return O=function(){return n},n}function m(){var n=Object(o.a)(["\n  position: absolute;\n  top: ","%;\n  right: ","%;\n  width: ","%;\n  height: ","%;\n  padding: 0;\n  background: transparent;\n"]);return m=function(){return n},n}function x(){var n=Object(o.a)(["\n  display: inline-block;\n  border: 1px solid black;\n  width: ","vmin;\n  height: ","vmin;\n"]);return x=function(){return n},n}function g(){var n=Object(o.a)(["\n  position: relative;\n  width: 100vmin;\n  height: 100vmin;\n  padding: ","vmin;\n  background: ",";\n  font-size: 0;\n  line-height: 0;\n"]);return g=function(){return n},n}function w(){var n=Object(o.a)(["\n  display: flex;\n  height: 100vh;\n  justify-content: space-between;\n  "," {\n    flex-direction: column;\n    align-items: center;\n  }\n"]);return w=function(){return n},n}var k=u.a.div(w(),h.md),R=u.a.div(g(),5,l.white),y=u.a.div(x(),5,5),C=Object(u.a)(R)(m(),2.5,2.5,95,95),S=Object(u.a)(y)(O(),(function(n){var e=n.$content,t=n.turn;return e?d.white:!1===e?d.black:t?"&:hover{"+d.white+"}":"&:hover{"+d.black+"}"})),N=u.a.div(v(),h.md),I=u.a.div(j()),J=u.a.button(f(),l.white,l.white,l.white),z=u.a.form(p(),l.white),F=u.a.input(b()),U=t(15),W=t(4);var B=function(n,e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=[],i=0;i<e;i++){r.push([]);for(var c=0;c<t;c++)r[i].push("id"===n?i*t+c:n)}return r},D=function(n,e){return[Math.floor(Number(n)/Number(e)),Number(n)%Number(e)]},L=function(n,e,t,r,i,c){for(var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,o=[t[0]+r[0],t[1]+r[1]];n<a&&-1<o[0]&&o[0]<c&&-1<o[1]&&o[1]<c&&i===e[o[0]][o[1]];)n++,o=[o[0]+r[0],o[1]+r[1]];return n};function P(n){var e=n.winner,t=n.size,i=n.state,c=n.turn,a=n.handleRecordUpdate,o=n.handleWinner,u=function(n){var r=n.target,u=D(r.id,t),d=Object(W.a)(u,2),l=d[0],h=d[1];""!==i[l][h]||e||(function(n,e,t,r,i){return s.some((function(c){return L(L(1,n,[e,t],c,r,i),n,[e,t],c.map((function(n){return-n})),r)>=5}))}(i,l,h,c,t)&&o(c),a(l,h))};return Object(r.jsx)(C,{children:B("id",t).map((function(n){return n.map((function(n){var e=D(n,t),a=Object(W.a)(e,2),o=a[0],d=a[1];return Object(r.jsx)(S,{id:n,$content:i[o][d],turn:c,onClick:u},n)}))}))})}function T(n){for(var e=n.step,t=n.handleReturnOnClick,i=new Array(e),c=0;c<e;c++)i[c]=c;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"\u56de\u5230\u9ed1\u5b50\u6b65\u6578"}),i.map((function(n){return 0===n||n%2===1?"":Object(r.jsx)(J,{className:"black",value:n,onClick:t,children:n},n)})),Object(r.jsx)("h3",{children:"\u56de\u5230\u767d\u5b50\u6b65\u6578"}),i.map((function(n){return n%2===0?"":Object(r.jsx)(J,{className:"white",value:n,onClick:t,children:n},n)}))]})}function $(n){var e=n.handleRecordInput,t=n.input,i=n.handleInput,c=n.handleRecordSave,a=n.handleRecordCopy,o=n.record,u=n.winner,d=n.handleReturnOnClick;return Object(r.jsxs)("div",{children:[Object(r.jsxs)(z,{onSubmit:e,children:[Object(r.jsx)("textarea",{rows:"1",name:"input",value:t,onChange:i,placeholder:"\u8cbc\u4e0a\u8907\u88fd\u7684\u68cb\u8b5c"}),Object(r.jsx)(J,{as:"input",className:"black wide",type:"submit",value:"\u9001\u51fa"})]}),Object(r.jsx)(J,{className:"white wide",onClick:c,children:"\u5132\u5b58\u68cb\u5c40"}),Object(r.jsx)(J,{className:"white wide",onClick:a,children:"\u8907\u88fd\u68cb\u8b5c"}),Object(r.jsx)(F,{id:"copy",readOnly:!0,value:JSON.stringify({record:o,winner:u})}),Object(r.jsx)(J,{className:"black block",value:0,onClick:d,children:"\u518d\u4f86\u4e00\u76e4"})]})}var q=function(){var n=function(n,e,t){var r=JSON.parse(localStorage.getItem(n)),c=Object(i.useState)(r?r.record:[e("",t)]),a=Object(W.a)(c,2),o=a[0],u=a[1],d=Object(i.useState)(o.length-1),l=Object(W.a)(d,2),h=l[0],s=l[1],b=Object(i.useState)(o.length%2===0),p=Object(W.a)(b,2),f=p[0],j=p[1],v=Object(i.useState)(!!r&&r.winner),O=Object(W.a)(v,2),m=O[0],x=O[1],g=Object(i.useState)(""),w=Object(W.a)(g,2),k=w[0],R=w[1],y=function(n){u(o.slice(0,n+1)),s(n),j(n%2!==0),x(!1)};return{record:o,step:h,turn:f,winner:m,input:k,handleRecordUpdate:function(n,e){u([].concat(Object(U.a)(o),[o[o.length-1].map((function(t,r){return r!==n?t:t.map((function(n,t){return t!==e?n:f}))}))])),s(h+1),j(!f)},handleRecordReturn:y,handleWinner:function(n){return x(n?"\u767d\u5b50":"\u9ed1\u5b50")},handleReturnOnClick:function(n){var e=n.target;return y(Number(e.value))},handleRecordSave:function(){return localStorage.setItem(n,JSON.stringify({record:o,winner:m}))},handleRecordCopy:function(){var n=document.querySelector("#copy");n.focus(),n.select();try{document.execCommand("copy")||alert("\u8907\u88fd\u4e0d\u6210\u529f")}catch(e){alert("\u7121\u6cd5\u8907\u88fd")}},handleRecordInput:function(n){var e=JSON.parse(k);u(e.record),s(e.record.length-1),j(!!(o.length%2)),x(e.winner),R(""),n.preventDefault()},handleInput:function(n){var e=n.target;return R(e.value)}}}("gobang-history",B,19),e=n.record,t=n.step,c=n.turn,a=n.winner,o=n.input,u=n.handleRecordUpdate,d=n.handleRecordReturn,l=n.handleWinner,h=n.handleReturnOnClick,s=n.handleRecordSave,b=n.handleRecordCopy,p=n.handleRecordInput,f=n.handleInput;return Object(r.jsxs)(k,{children:[Object(r.jsxs)(N,{children:[Object(r.jsx)("h1",{children:"\u4e94\u5b50\u68cb"}),Object(r.jsx)("h2",{children:a?a+"\u8d0f\uff01":"\u8f38\u8d0f\u5c1a\u672a\u5206\u66c9"}),Object(r.jsxs)(I,{children:[Object(r.jsx)(T,{step:t,handleReturnOnClick:h}),Object(r.jsx)($,{handleRecordInput:p,input:o,handleInput:f,handleRecordSave:s,handleRecordCopy:b,record:e,winner:a,handleReturnOnClick:h})]})]}),Object(r.jsxs)(R,{children:[B("id",18).map((function(n){return n.map((function(n){return Object(r.jsx)(y,{},n)}))})),Object(r.jsx)(P,{winner:a,size:19,state:e[e.length-1],turn:c,handleRecordUpdate:u,handleRecordReturn:d,handleWinner:l})]})]})},A=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,25)).then((function(e){var t=e.getCLS,r=e.getFID,i=e.getFCP,c=e.getLCP,a=e.getTTFB;t(n),r(n),i(n),c(n),a(n)}))};a.a.render(Object(r.jsx)(q,{}),document.getElementById("root")),A()}},[[24,1,2]]]);
//# sourceMappingURL=main.5176c516.chunk.js.map